<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author"
	content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
<meta name="generator" content="Hugo 0.88.1">
<title>メンタルグラフ</title>

<link rel="canonical"
	href="https://getbootstrap.com/docs/5.1/examples/navbar-fixed/">
<!-- Bootstrap core CSS -->
<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet"
	integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	crossorigin="anonymous">
<!-- Custom styles for this template -->
<link th:href="@{/css/navbar-top-fixed.css}" rel="stylesheet">

</head>
<body>
	<div th:replace="~{block/header::header}"></div>
	
	<form method="GET" th:action="@{/condition/graph}" th:object="${condition}">
		<label>日付検索</label>
		<input type="date" name="graph_from">から
		<input type="date" name="graph_to">まで
		<input type="submit" value="検索">
	</form>
	
	<p>グラフ</p>
	
	<!--  <a type="button" th:href="@{/condition/{id}(id=${obj.id})}">編集</a> -->
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>
	<canvas id="mentalChart"></canvas>
	<script type="text/javascript" th:inline="javascript">
	
	/*<![CDATA[*/
 	var ctx = document.getElementById("mentalChart").getContext('2d');
 	var mentalChart = new Chart(ctx, {
        type: 'line',
        data: {
            // コントローラーで格納したdayを変数式で取り出す
            labels: /*[[${day}]]*/ 'day',
            datasets: [
                {
                    label: "Mental History",
                    borderColor: 'rgb(255, 0, 0)',
                    lineTension: 0, //直線
                    fill: false, //グラフとＸ軸の間を塗らない
                    // 上記と同様、mentalを変数式で取り出す
                    data: /*[[${mental}]]*/ 'mental',
                },
            ]
        },
        options: {
        	scales: {
                yAxes: [
                    {
			        	ticks: {           // Ｙ軸目盛り        
			                min: 1,            // 最小値
			                max: 3,           // 最大値
			                stepSize: 1,       // 間隔
               			//	fontColor: "blue"  // 色
			        	}
		            }
	            ]
             },
             
            responsive: true,
        }
    });
 	/*]]>*/
    
    </script>
</body>
</html>